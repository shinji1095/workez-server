<!DOCTYPEhtml>
<html lang="en">
<head>
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <meta charset="UTF-8" />
  <title>IoT収穫管理</title>
  <link rel="stylesheet" href="../css/style.css" />  
</head>
<body>
  <header class="topbar">
    <div>
      <a href="index">
        <img src="../css/logo.png" alt="logo" width="25%" onclick="">
      </a>
    </div>
    <div class="top-actions">
      <button>プロフィール</button>
      <button>ログアウト</button>
    </div>
  </header>

  <div class="layout">

    <!-- Sidebar -->
    <aside class="sidebar">
      <a href="index" class="nav-btn">ダッシュボード</a>
      <a href="harvest" class="nav-btn active">収穫量推移</a>
      <a href="revenue" class="nav-btn">収益</a>
      <a href="defects" class="nav-btn">不良品</a>
      <a href="users" class="nav-btn">ユーザー</a>
      <a href="targets" class="nav-btn">ターゲット</a>
      <a href="analytics" class="nav-btn">分析</a>
    </aside>


    <!-- Main Content -->
    <main class="content">
      <h1>収穫量推移</h1>

      <!-- Period Selector -->
      <div class="period">
        <label for="choices">推移</label>
        <select name="choice" id="choices" onchange="loadPeriod(event, this.value)">
          <option value="daily" selected>日間収穫量</option>
          <option value="weekly">週間収穫量</option>
          <option value="monthly">月間収穫量</option>
        </select>
      </div>

      <!-- Harvest Amount -->
      <section class="card" :first-of-type>
        <h3>収穫量</h3>
        <section class="category">
          <span>サイズ</span>
            <button type="button" onclick="loadCategory(event, 'L')">L</button>
            <button type="button" onclick="loadCategory(event, 'M')">M</button>
            <button type="button" onclick="loadCategory(event, 'S')">S</button>
            <button type="button" onclick="loadCategory(event, 'SS')">SS</button>
            <button type="button" onclick="loadCategory(event, '3S')">3S</button>
            <button type="button" onclick="loadCategory(event, '小')">小</button>
          <p class="note">注: カテゴリ値は管理者によって編集可能です</p>
        </section>
        <canvas id="harvestChart"></canvas>
      </section>

      <!-- Bottom Charts -->
      <section class="grid-2">
        <div class="card">
        <div class="card-header">
          <h3>ランク別カウント</h3>
        </div>
        <canvas id="rankCountChart"></canvas>

        </div>
        <div class="card">
        <h3>ロット別収穫数</h3>
        <section class="category">
          <span>ロット</span>
            <button onclick="loadLot(event, '1a')">1a</button>
            <button onclick="loadLot(event, '1b')">1b</button>
            <button onclick="loadLot(event, '2e')">2e</button>
          <p class="note">注: カテゴリ値は管理者によって編集可能です</p>
        </section>
        <canvas id="lotChart"></canvas>
      </div>

      </section>

    </main>
  </div>
  <script src="/js/harvest.js"></script>
</body>
<>
